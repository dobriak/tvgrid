---
import Icon from './Icon.astro';

interface Props {
	playlist?: {
		id: string;
		name: string;
		icon: string;
		streams: {
			topLeft: string;
			topRight: string;
			bottomLeft: string;
			bottomRight: string;
		};
	} | null;
}

const { playlist } = Astro.props;

const positions = [
	{ key: 'topLeft', label: 'Top Left' },
	{ key: 'topRight', label: 'Top Right' },
	{ key: 'bottomLeft', label: 'Bottom Left' },
	{ key: 'bottomRight', label: 'Bottom Right' },
];

const icons = [
	'tv', 'basketball', 'newspaper', 'dollar', 'music',
	'film', 'gamepad', 'globe', 'heart', 'lightning',
	'star', 'coffee', 'book', 'plane', 'code',
];
---

<div class="editor flex-1 bg-gray-800 rounded-lg p-6" id="playlist-editor">
	{playlist ? (
		<>
			<div class="flex items-center gap-4 mb-6">
				<div class="flex-1">
					<label class="block text-sm font-medium text-gray-300 mb-2">Playlist Name</label>
					<input
						type="text"
						id="playlist-name"
						value={playlist.name}
						class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
					/>
				</div>
				<div class="w-32">
					<label class="block text-sm font-medium text-gray-300 mb-2">Icon</label>
					<select
						id="playlist-icon"
						class="w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
					>
						{icons.map((icon) => (
							<option value={icon} selected={icon === playlist.icon}>
								{icon}
							</option>
						))}
					</select>
				</div>
			</div>
			
			<div class="space-y-4 mb-6">
				{positions.map((pos) => (
					<div>
						<label
							for={pos.key}
							class="block text-sm font-medium text-gray-300 mb-2"
						>
							{pos.label} Stream URL
						</label>
						<input
							type="url"
							id={pos.key}
							name={pos.key}
							value={playlist.streams[pos.key as keyof typeof playlist.streams]}
							placeholder="https://example.com/stream.m3u8"
							class="w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
						/>
					</div>
				))}
			</div>
			
			<div class="flex gap-4">
				<button
					id="save-btn"
					class="flex-1 py-3 px-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition-colors"
					data-id={playlist.id}
				>
					Save Playlist
				</button>
				<button
					id="delete-btn"
					class="py-3 px-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition-colors"
					data-id={playlist.id}
				>
					Delete
				</button>
			</div>
		</>
	) : (
		<div class="flex items-center justify-center h-full text-gray-400">
			<p>Select a playlist or create a new one</p>
		</div>
	)}
</div>
